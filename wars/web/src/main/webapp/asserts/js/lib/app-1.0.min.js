!function(e){var t={};function i(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(s,n,function(t){return e[t]}.bind(null,n));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){i(1),i(2),i(3),i(4),i(5),i(6),i(7),i(8),i(9),i(10),i(11),i(12),i(13),i(14),i(15),i(16),i(17),i(18),i(19),i(20),i(21),i(22),i(23),e.exports=i(24)},function(e,t){
/*!
 * jQuery UI Resizable 1.11.0
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/resizable/
 */
var i;(i=jQuery).widget("youi.resizable",i.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(e,t){if("hidden"===i(e).css("overflow"))return!1;var s,n=t&&"left"===t?"scrollLeft":"scrollTop";return e[n]>0||(e[n]=1,s=e[n]>0,e[n]=0,s)},_create:function(){var e,t,s,n,r=this,o=this.options;if(this.element.addClass("ui-resizable"),i.extend(this,{_aspectRatio:!!o.aspectRatio,aspectRatio:o.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:o.helper||o.ghost||o.animate?o.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(i("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=o.handles||(i(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},t=0;t<e.length;t++)s=i.trim(e[t]),(n=i("<div class='ui-resizable-handle ui-resizable-"+s+"'></div>")).css({zIndex:o.zIndex}),"se"===s&&n.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[s]=".ui-resizable-"+s,this.element.append(n);this._renderAxis=function(e){var t,s,n,r;for(t in e=e||this.element,this.handles)this.handles[t].constructor===String&&(this.handles[t]=this.element.children(this.handles[t]).first().show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(s=i(this.handles[t],this.element),r=/sw|ne|nw|se|n|s/.test(t)?s.outerHeight():s.outerWidth(),n=["padding",/ne|nw|n/.test(t)?"Top":/se|sw|s/.test(t)?"Bottom":/^e$/.test(t)?"Right":"Left"].join(""),e.css(n,r),this._proportionallyResize()),i(this.handles[t]).length},this._renderAxis(this.element),this._handles=i(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){r.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),r.axis=n&&n[1]?n[1]:"se")}),o.autoHide&&(this._handles.hide(),i(this.element).addClass("ui-resizable-autohide").mouseenter(function(){o.disabled||(i(this).removeClass("ui-resizable-autohide"),r._handles.show())}).mouseleave(function(){o.disabled||r.resizing||(i(this).addClass("ui-resizable-autohide"),r._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,t=function(e){i(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(t(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),t(this.originalElement),this},_mouseCapture:function(e){var t,s,n=!1;for(t in this.handles)((s=i(this.handles[t])[0])===e.target||i.contains(s,e.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(e){var t,s,n,r=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),t=this._num(this.helper.css("left")),s=this._num(this.helper.css("top")),r.containment&&(t+=i(r.containment).scrollLeft()||0,s+=i(r.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:t,top:s},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.originalPosition={left:t,top:s},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof r.aspectRatio?r.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=i(".ui-resizable-"+this.axis).css("cursor"),i("body").css("cursor","auto"===n?this.axis+"-resize":n),o.addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var t,s=this.helper,n={},r=this.originalMousePosition,o=this.axis,a=e.pageX-r.left||0,l=e.pageY-r.top||0,h=this._change[o];return this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height},!!h&&(t=h.apply(this,[e,a,l]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(t=this._updateRatio(t,e)),t=this._respectSize(t,e),this._updateCache(t),this._propagate("resize",e),this.position.top!==this.prevPosition.top&&(n.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(n.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(n.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(n.height=this.size.height+"px"),s.css(n),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),i.isEmptyObject(n)||this._trigger("resize",e,this.ui()),!1)},_mouseStop:function(e){this.resizing=!1;var t,s,n,r,o,a,l,h=this.options;return this._helper&&(n=(s=(t=this._proportionallyResizeElements).length&&/textarea/i.test(t[0].nodeName))&&this._hasScroll(t[0],"left")?0:this.sizeDiff.height,r=s?0:this.sizeDiff.width,o={width:this.helper.width()-r,height:this.helper.height()-n},a=parseInt(this.element.css("left"),10)+(this.position.left-this.originalPosition.left)||null,l=parseInt(this.element.css("top"),10)+(this.position.top-this.originalPosition.top)||null,h.animate||this.element.css(i.extend(o,{top:l,left:a})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!h.animate&&this._proportionallyResize()),i("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(e){var t,i,s,n,r,o=this.options;r={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||e)&&(t=r.minHeight*this.aspectRatio,s=r.minWidth/this.aspectRatio,i=r.maxHeight*this.aspectRatio,n=r.maxWidth/this.aspectRatio,t>r.minWidth&&(r.minWidth=t),s>r.minHeight&&(r.minHeight=s),i<r.maxWidth&&(r.maxWidth=i),n<r.maxHeight&&(r.maxHeight=n)),this._vBoundaries=r},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,s=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===s&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"===s&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,s=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,n=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,r=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,o=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,a=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,h=/sw|nw|w/.test(i),d=/nw|ne|n/.test(i);return r&&(e.width=t.minWidth),o&&(e.height=t.minHeight),s&&(e.width=t.maxWidth),n&&(e.height=t.maxHeight),r&&h&&(e.left=a-t.minWidth),s&&h&&(e.left=a-t.maxWidth),o&&d&&(e.top=l-t.minHeight),n&&d&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var e,t,i,s,n,r=this.helper||this.element;for(e=0;e<this._proportionallyResizeElements.length;e++){if(n=this._proportionallyResizeElements[e],!this.borderDif)for(this.borderDif=[],i=[n.css("borderTopWidth"),n.css("borderRightWidth"),n.css("borderBottomWidth"),n.css("borderLeftWidth")],s=[n.css("paddingTop"),n.css("paddingRight"),n.css("paddingBottom"),n.css("paddingLeft")],t=0;t<i.length;t++)this.borderDif[t]=(parseInt(i[t],10)||0)+(parseInt(s[t],10)||0);n.css({height:r.height()-this.borderDif[0]-this.borderDif[2]||0,width:r.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var e=this.element,t=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||i("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++t.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize;return{left:this.originalPosition.left+t,width:i.width-t}},n:function(e,t,i){var s=this.originalSize;return{top:this.originalPosition.top+i,height:s.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(e,t,s){return i.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,t,s]))},sw:function(e,t,s){return i.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,t,s]))},ne:function(e,t,s){return i.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,t,s]))},nw:function(e,t,s){return i.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,t,s]))}},_propagate:function(e,t){i.ui.plugin.call(this,e,[t,this.ui()]),"resize"!==e&&this._trigger(e,t,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition,prevSize:this.prevSize,prevPosition:this.prevPosition}}})},function(e,t){!function(e){"use strict";e.youi=e.youi||{},window.getClientRects=window.getClientRects||function(){return[]},e.extend(e.youi,{designerUtils:{buildItemTreeNodes:function(t,i,s){return function(t,i,s){var n={},r=[];return e(t).each(function(){var t=e.extend({},this);e.isFunction(i)&&i(t);var o=this.level?parseInt(this.level):s;if(o==s)r.push(t);else if(o>s){var a=n[o-1+""];a&&(a.children=a.children||[],a.children.push(t),a.expanded=!0)}n[this.level]=t}),r}(t,i,s||0)},parseItemsFromTreeNode:function(t,i){return function t(i,s,n){var r=[],s=s||0;var o=n?"."+n:"";e(">ul>li.treeNode"+o,i).each(function(){var i=e(this),o=e.extend({id:i.attr("id")},i.data(),{text:e.youi.treeUtils.getNodeText(i),level:s});delete o.group,r.push(o),r=r.concat(t(i,s+1,n))});return r}(t,0,i)},parseTreeNodeItemList:function(t,i){return function(t,i){var s=[];return e("li.treeNode"+(i?"."+i:""),t).each(function(){var t=e(this),i=e.extend({id:t.attr("id")},t.data(),{text:e.youi.treeUtils.getNodeText(t)});delete i.group,s.push(i)}),s}(t,i)},getFormFieldStrValue:function(t,i){if(!t||!i)return"";var s=t[i];return e.isArray(s)&&(0==s.length&&s.push(""),s=s[0]),s}},itemUtils:{insertItem:function(e,t,i){return[].concat(e.slice(0,i)).concat([t]).concat(e.slice(i,e.length))},removeItem:function(e,t){var i=[].concat(e.slice(0,t));return t!=e.length-1&&(i=i.concat(e.slice(t+1,e.length))),i},removeItemById:function(e,t){for(var i=[],s=0;s<e.length;s++)e[s].id!=t&&i.push(e[s]);return i},findItemIndexes:function(t,i){var s={};if(e.isArray(t)&&e.isArray(i))for(var n=0;n<t.length;n++)-1!=e.inArray(t[n].id,i)&&(s[t[n].id]=n);return s},findInsertIndex:function(t,i,s){var n;i?n=e.youi.itemUtils.findItemIndexes(t,[i])[i]+s+1:n=t.length;return n}},sheetEditor:{insertCol:function(e,t){this._proxySheetAreaAction("insertCol")},appendCol:function(e,t){this._proxySheetAreaAction("appendCol")},appendBlankCol:function(e,t){this._proxySheetAreaAction("appendBlankCol")},deleteCol:function(e,t){this._proxySheetAreaAction("deleteCol")},setTextIndent:function(e,t){this._proxySheetCommandAction("setTextIndent",e,t)},setAlign:function(e,t){this._proxySheetCommandAction("setAlign",e,t)},setFontSize:function(e,t){this._proxySheetCommandAction("setFontSize",e,t)},setBorder:function(e,t){this._proxySheetCommandAction("setBorder",e,t)},mergeArea:function(e,t){this._proxySheetCommandAction("mergeArea",e,t)},setSequence:function(e,t){this._proxySheetCommandAction("setSequence",e,t)},clearArea:function(t,i){e.youi.messageUtils.confirm("确认清除选区文本信息?",this._proxy("_proxySheetCommandAction","clearAreaText",t,i))},moveAreaText:function(e,t){var i=parseInt(t.value),s=this.contentElem.sheet("getSelectedArea");this.contentElem.sheet("moveArea",s,i)},_proxySheetAreaAction:function(e){var t=this.contentElem.sheet("getSelectedArea");this.contentElem.sheet(e,t)},_proxySheetCommandAction:function(e,t,i){var s=this.contentElem.sheet("getSelectedArea");if("mergeCellText"==i.value){var n=this.contentElem.sheet("getSelectedTexts");this.contentElem.sheet("setCellText",{rowIndex:s.startRow,colIndex:s.startCol,text:n.join("")})}this.contentElem.sheet(e,t,i,s)}},abstractDesigner:e.extend({},e.youi.command,{options:{useModelTree:!0},_initContent:function(t){this.UUID=0,this.contentElem=this.element.find(">."+this.widgetName+"-content:first").addClass("auto-height"),e.isFunction(t)&&t(this.contentElem)},_initRefWidget:function(){this._initSubPages(),this._initModelTree()},_initModelTree:function(){var t,i;t=this.options.useModelTree,i=this.options.refs,t&&e.isArray(i)&&i.length>0&&(this.modelTreeElem=e("#"+this.options.refs[0]),this.modelTreeElem.hasClass("youi-tree")?(this._bindTreeMenuAction(),this.element.parents(".youi-treePage").length||(window[this.options.refs[0]+"_select"]=this._proxy("_treeNodeSelect"))):this.modelTreeElem=null)},_treeNodeSelect:function(e){},_bindTreeMenuAction:function(){var t=[],i=this.modelTreeElem.data("xmenu");i&&e("#"+i).find("li.youi-xmenuitem[data-name]").each(function(){t.push(e(this).data("name"))});for(var s=0;s<t.length;s++){var n=this.options.refs[0]+"_xmenu_"+t[s];if(!e.isFunction(window[n])&&(window[n]=this._proxy(t[s]),0==t[s].indexOf("open"))){var r=t[s].substring(4,5).toLocaleLowerCase()+t[s].substring(5);this.subPages[r]&&!e.isFunction(this[t[s]])&&(this[t[s]]=this._proxy("openSubPageByMenu",r))}}},_refreshModelTree:function(t,i){if(this.modelTreeElem&&this.modelTreeElem.length){var s=this.modelTreeElem.find("ul:first").empty(),n=[];e(t).each(function(){var t={};if(i)for(var s in i)this[s]&&i[s]&&(t[i[s]]=this[s]);n.push(e.youi.treeUtils.treeNodeHtml(this.id,this.text,t,{children:this.children,group:this.group}))}),s.html(n.join(""))}},_treeNodeMoveDown:function(){var e=this.modelTreeElem.tree("getSelected"),t=e.next("li.treeNode");if(t.length)return t.after(e),e},_treeNodeMoveUp:function(){var e=this.modelTreeElem.tree("getSelected"),t=e.prev("li.treeNode");if(t.length)return t.before(e),e},_treeNodeMoveLeft:function(){var e,t=this.modelTreeElem.tree("getSelected"),i=t.parents("li.treeNode:first");i.length&&(i.after(t),(e=i)&&(0==e.find(">ul>li").length?e.removeClass("expandable"):e.addClass("expandable")))},_treeNodeMoveRight:function(){var t=this.modelTreeElem.tree("getSelected"),i=t.prev("li.treeNode");if(i.length){this.modelTreeElem.tree("addNode",i,"temp_","temp_"),i.find(">ul>li:last").remove();var s=i.find(">ul");0==s.length&&(s=e("<ul></ul>").appendTo(i)),s.append(t)}},_updateTreeNode:function(t,i,s,n,r){e.isArray(t)&&(t=t[0]);var o=this.modelTreeElem.find(".treeNode."+i+"[data-id="+t+"]");for(var a in s&&o.find(">span>a").text(s),r&&this._setTreeNodeToolTips(o,r),n=n||{}){var l=n[a];if(e.youi.stringUtils.notEmpty(l)){var h="data-"+e.youi.stringUtils.convertDataProperty(a,"-");o.attr(h,l).data(a,l)}}return o},_removeTreeNode:function(e){this.modelTreeElem.tree("removeNode",e)},_setTreeNodeToolTips:function(e,t){t=t||"";var i=e.find(">.tree-span>span.tree-node-hint");0!=i.length?i.text(t):e.find(">.tree-span").append("<span class='tree-node-hint'>"+t+"</span>")},_buildChildItem:function(e){var t={};return e&&e.id&&(t.parentId=e.id,t.parentText=e.text),t},_addItemTreeNode:function(e,t,i,s){var n,r=e.parentId,o=0,a=["item",t];return r&&(o=(n=this.modelTreeElem.find(".treeNode."+t+"[data-id="+r+"]")).find(".treeNode."+t).length),n&&n.length||(n=this.modelTreeElem.find(".treeNode."+t+"-parent:first")),e.id=this._genUUID(s||"M",this.modelTreeElem),i&&(a=a.concat(i)),this.modelTreeElem.tree("addNode",n,e.id,e.text,{id:e.id,"mapped-id":e.mappedId,expression:e.expression},{tooltips:e.mappedId,group:a.join(" ")}),o},_addTreeNode:function(e,t,i,s,n,r){var o=[e.attr("id")];this.modelTreeElem.tree("visitParents",e,function(e){o.push(e.getAttribute("id"))}),o.reverse(),this.modelTreeElem.tree("openPath",o.join("/")+"/").tree("addNode",e,r||this._genUUID(t,this.modelTreeElem),i,s,n||{})},_initSubPages:function(){if(this.subPages=[],e.isArray(this.options.refs))for(var t=0;t<this.options.refs.length;t++){var i=this.options.refs[t].split("_subpage_");if(2==i.length){var s=i[1];this.subPages[s]={subPageId:this.options.refs[t]};var n="P_"+this.options.refs[t]+"_form_afterSubmit";e.isFunction(window[n])||(window[n]=this._proxy("_afterSubmitSubPage",{name:s}))}}},openSubPageByMenu:function(t,i,s){var n=e(t),r=n.parents(".treeNode:first"),o=r.data("id")?e.youi.treeUtils.getNodeText(r):"",a=e.extend({commandValue:i.value,text:e.youi.treeUtils.getNodeText(n),parentText:o,id:n.attr("id")},n.data()),l={record:a};this._openSubPage(s,l,a)},_openSubPage:function(t,i,s){if(this.subPages&&this.subPages[t]){var n=this.subPages[t].subPageId;e("#"+n).unbind("initPageData").bind("initPageData",this._proxy("_initPageData",i,t)).subpage("open",{},{},e.extend({},s,{subPageId:n}))}},_initPageData:function(t,i,s,n){if(s&&i&&e.isFunction(window[i.callback])){var r=null,o="_"+n+"FormRecord";e.isFunction(this[o])&&(r=this[o](s.record)),r=e.extend({},i.record,r||s.record);var a="P_"+this.subPages[n].subPageId+"_form";e("#"+a).form("reset").form("fillRecord",r),window[i.callback](r)}},_afterSubmitSubPage:function(t,i){var s=i.name;if(this.subPages&&this.subPages[s]){var n=this.subPages[s].subPageId;e("#"+n).dialog("close");var r="_"+s+"AfterFormSubmit";e.isFunction(this[r])&&this[r](t.record)}},_destroyDesigner:function(){this.model=null,this.contentElem=null,this.modelTreeElem=null,this.subPages=[]},_genUUID:function(e,t){e=e||"",t=t||this.contentElem||this.element;var i=e+this.UUID++;return t.find("#"+i).length?this._genUUID(e,t):i},setDirty:function(){this.element.attr("data-dirty","1")},isDirty:function(){return"1"===this.element.attr("data-dirty")},removeDirty:function(){this.element.removeAttr("data-dirty")},_resizeHeight:function(){var t=this.element.innerHeight();if(t>0){var i=0;this.element.find(">.fixed-height").each(function(){i+=e(this).outerHeight()}),this.element.find(">.auto-height").height(t-i-10)}}})})}(jQuery)},function(e,t){
/*!
 * youi JavaScript Library v3.0.0
 *
 *
 * Copyright 2016-2020, zhyi_12
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Date: 2019-12-07
 */
!function(e){"use strict";var t=2;function i(t){var i=[];return e(t).each(function(){i.push(this.id)}),i}function s(t){for(var i=[],s=t.length,n=1,r=1,o=[],a=t.length;a>0;a--)a<t.length&&(r*=t[a].items.length),o.push(r),n*=t[a-1].items.length;return e(t).each(function(t){for(var r=0;r<n;r++){var a=o[s-t-1],l=Math.floor(r/a)%this.items.length,h=this.items[l];i[r]=i[r]||[],i[r].push(e.extend({},h,{dimId:this.id,spans:a,itemCount:this.items.length}))}}),i}function n(t,i,s,n){for(var r=[],o=t[0].length,a=0;a<s;a++)r.push({cellType:"pub"});for(a=0;a<n;a++){var l=e.extend({cellType:"slave"},t[a][i]);i<o&&l.spans>1&&a%l.spans==0?l.colspan=l.spans:i<o&&l.spans&&a%l.spans!=0&&(l.hide=!0),r.push(l)}return r}function r(e,t,i,s){return i<s-1&&e.spans>1&&e.itemCount&&t%e.spans!=0}function o(e,t,i){var s=[],n=["cell",i.cellType||""],r=[];return i.hide&&n.push("hide"),i.rowspan>1&&r.push('rowspan="'+i.rowspan+'"'),i.colspan>1&&r.push('colspan="'+i.colspan+'"'),r.length&&n.push("merge"),s.push("<td "+r.join(" ")+' class="'+n.join(" ")+'">'),s.push(i.text||""),s.push("</td>"),s.join("")}e.widget("youi.crossTable",e.youi.abstractWidget,e.extend({},{options:{maxMainColumns:1,filterDimensionIds:[]},canTransposition:!0,_initWidget:function(){this.canTransposition=!0,this.slaveDimensions=[],this._initContent(),this._bindWidgetCommand()},_initContent:function(){var t=this.widgetName+"-content";this.contentElem=this.element.find(">."+t),0==this.contentElem.length&&(this.contentElem=e('<div class="'+t+'"></div>').appendTo(this.element)),this.contentElem.addClass("auto-height"),this.xScrollHelper=e('<div class="scroll-helper-x"><div class="scroll-helper-inner"></div></div>').insertAfter(this.contentElem),this.xScrollHelper.scroll(this._proxy("_xScroll")),this.mainTableHelper=e('<div class="main-table-helper"></div>').appendTo(this.element)},_xScroll:function(t){var i=e(t.currentTarget).scrollLeft();this.contentElem.css("marginLeft",-1*i)},_initAction:function(){},_parseCubes:function(a){if(e.isArray(a)&&a.length>0){this.canTransposition=1==a.length&&a[0].dimensions&&a[0].dimensions.length>1,this.filterDimensions=this.canTransposition?function(t,i){var s=[];e(t.dimensions).each(function(){-1!=e.inArray(this,i)&&s.push(this)});var n=t.dimensions.length-s.length;n<2&&(s=s.slice(2-n));return s}(a[0],this.options.filterDimensionIds):[];var l=i(this.filterDimensions);this.slaveDimensions=function(i,s){var n=[];e(i.dimensions).each(function(){-1==e.inArray(this.id,s)&&this.position==t&&n.push(this)}),0==n.length&&(n=i.dimensions.slice(1,i.dimensions.length));return n}(a[0],l);var h=[].concat(i(this.slaveDimensions)).concat(l),d=(a[0].headerItems,0),c=s(this.slaveDimensions),u=[],p=[],f=this.slaveDimensions.length;e(a).each(function(){var t=function(t,i){var n=[];return e(t.dimensions).each(function(){-1==e.inArray(this.id,i)&&n.push(this)}),s(n)}(this,h);t.length&&(f+=t.length,u.push(t),d=Math.max(d,t[0].length))});var m=d+c.length,g=function(t,i,s,o,a,l){if(!a[0])return[];for(var h=a[0].length,d=[],c=a.length,u=0;u<h;u++)d.push(n(a,u,s,c));return e(l).each(function(){d=d.concat(function(t,i,s){var n=[];return e(i).each(function(i){for(var o,a,l,h,d=[],c=0;c<this.length;c++){var u=0,p=!1;o=this[c],a=i,l=c,h=this[c].spans,l<h-1&&o.spans>1&&o.itemCount&&a%o.spans==0?u=this[c].spans:r(this[c],i,c,this[c].spans)&&(p=!0),d.push(e.extend({cellType:"main",hide:p,rowspan:u},this[c]))}if(this.length<t)for(d[d.length-1].colspan=t-this.length+1,c=this.length;c<t;c++)d.push({cellType:"main",hide:!0});for(c=0;c<s;c++)d.push({cellType:"data"});n.push(d)}),n}(s,this,c))}),d}(0,0,d,0,c,u);p.push(function(t,i,s,n){var r=[];r.push('<table class="table">');for(var a=0;a<t;a++){r.push('<tr class="'+(a%2==1?"odd":"even")+'">');for(var l=s[a]||[],h=0;h<i;h++)r.push(o(a,h,e.extend({cellType:n},l[h])));r.push("</tr>")}return r.push("</table>"),r.join("")}(f,m,g)),this.contentElem.html(p.join(""));var v=this.contentElem.find(">table").clone();v.find("td.cell.slave,td.cell.data").remove(),this.mainTableHelper.empty().append(v),this._resize()}this.cubes=a||[],this._trigger("afterParse",null,{cubes:this.cubes,canTransposition:this.canTransposition})},drawCubes:function(e){this._parseCubes(e)},transposition:function(){this.canTransposition},_resize:function(){var e=this.element.width(),t=this.contentElem.find(">table").width();t>e?(this.element.addClass("scroll-x"),this.xScrollHelper.width(e),this.xScrollHelper.find(">.scroll-helper-inner").width(t)):this.element.removeClass("scroll-x")}}))}(jQuery)},function(e,t){var i;(i=jQuery).widget("youi.treePage",i.youi.abstractWidget,i.extend({},{options:{bindResize:!0},_initWidget:function(){this.contentElem=this.element.find(">.treePage-content:first").addClass("auto-height"),this.treeElem=i("#"+this.options.refs[0]),this.element.attr("data-hash",!0),window[this.options.refs[0]+"_select"]=this._proxy("_treeNodeSelect"),window[this.options.refs[0]+"_afterLoad"]=this._proxy("_treeAfterLoad"),this.element.trigger("pagehash",{init:!0,startPage:this._parsePageUrl()||this.options.startPage}),this._bindWidgetCommand(),this.options.contentWidget&&this.contentElem[this.options.contentWidget](this.options)},_parsePageUrl:function(){var e=window.location.hash,t=e.indexOf("###nodeId:");return t>-1?e.substring(t+"###nodeId:".length):null},_treeAfterLoad:function(e){this._callGloablFunc("afterLoad");var t=this.treeElem.data("openPath");t&&window.setTimeout(this._proxy("_openPath",t),200),this.treeElem.find("li.root").removeClass("expanded").removeClass("expandable")},loadTreeNodes:function(e){var t=[];if(e&&(i(e).each(function(){t.push(i.youi.treeUtils.treeNodeHtml(this.id,this.text,{group:this.group},this))}),this.treeElem.find(">ul").html(t.join("")),this.options.sourceStyle&&-1==window.location.hash.indexOf("treepage###"))){var s=this.treeElem.find(".treeNode."+this.options.sourceStyle+":first").attr("id");window.setTimeout(this._proxy("_openPath",s),100)}},_openPath:function(e){this.treeElem.tree("openPath",e)},_treeNodeSelect:function(e){var t=e.attr("id"),i=[];try{this.treeElem.tree("visitParents",e,function(e){i.push(e.getAttribute("id"))}),(i=i.reverse()).push(t),this.element.trigger("setpagehash",{hash:i.join("/"),partHash:"treePage"})}catch(e){console.log(e)}this._callGloablFunc("select",e)},_initAction:function(){this._on({pagehash:function(e,t){var i=window.location.hash;t.init&&-1==i.indexOf("?")&&(window.location.hash=window.location.hash+"?treepage");var s=i.indexOf("###nodeId:");if(s>-1){var n=i.substring(s+"###nodeId:".length),r=n.split("/"),o=r[r.length-1];this.treeElem.find("li.treeNode#"+o),t.init?(this.treeElem.attr("data-open-path",n),this.element.trigger("resize")):n&&this.treeElem.tree("openPath",n)}return!1},setpagehash:function(e,t){var i=window.location.hash;if(t.hash&&t.partHash){var s=i.indexOf("###nodeId:");window.location.hash=-1!=s?i.substring(0,s)+"###nodeId:"+t.hash:i+"###nodeId:"+t.hash}return!1}})},_afterLoadPage:function(){},loadHtml:function(e){this.contentElem.html(e)},loadPage:function(e){i.youi.pageUtils.loadPage(this.contentElem,e,this._proxy("_afterLoadPage"))},_resize:function(){this._resizePageHeight()}}))},function(e,t){var i;(i=jQuery).widget("youi.gridPanel",i.youi.abstractWidget,i.extend({},{options:{bindResize:!0},_initWidget:function(){},_resize:function(){this._resizePageHeight()}}))},function(e,t){
/*!
 * youi JavaScript Library v3.0.0
 *
 *
 * Copyright 2016-2020, zhyi_12
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Date: 2016-1-4
 */
!function(e){function t(e){for(var t="",i=e;i>0;){var s=i%26;0==s&&(s=26),t=String.fromCharCode(s+64)+t,i=(i-s)/26}return t}function i(t){var i=[],s=t.text;for(var n in delete t.text,delete t.rowIndex,delete t.colIndex,i.push("<td "),t.datas)e.youi.stringUtils.notEmpty(t.datas[n])&&i.push("data-"+e.youi.stringUtils.convertDataProperty(n)+'="'+t.datas[n]+'" ');for(var n in t)"string"==typeof t[n]&&e.youi.stringUtils.notEmpty(t[n])&&i.push(n+'="'+t[n]+'" ');return i.push(">"),i.push(s||""),i.push("</td>"),i.join("")}function s(t){var i={id:t.attr("id"),text:t.text()||t.find("input:first").val(),class:t[0].className,rowspan:t.attr("rowspan"),colspan:t.attr("colspan"),datas:{mergeId:t.attr("data-merge-id"),expression:t.attr("data-expression")}},s={textIndent:"0px",fontSize:"14px",color:"rgb(51, 51, 51)",backgroundColor:"rgba(0, 0, 0, 0)",textAlign:"start",borderTopColor:"rgb(192, 192, 192)",borderRightColor:"rgb(192, 192, 192)",borderBottomColor:"rgb(192, 192, 192)",borderLeftColor:"rgb(192, 192, 192)"};t.removeClass("selected");var n=[];for(var r in s){var o=t.css(r);o&&s[r]!=o&&n.push(e.youi.stringUtils.convertDataProperty(r)+":"+o)}return n.length&&(i.style=n.join(";")+";"),t[0].className=i.class,i}function n(e,t){return e-t}e.widget("youi.sheet",e.youi.abstractWidget,e.extend({},{options:{bindResize:!0,width:800,editable:!1,mode:"horizontal",expression:"records[{recordName}][{recordIndex}].items[{itemIndex}].values[valueIndex]"},_initWidget:function(){this._mouseInit(),this.tableDom=this.element.find("table")[0],this.element.addClass("page-editor");var t=this.options.xmenu||this.options.id+"_xmenu",i=e("#"+t);i.length&&(this.pasteHelper=e('<div class="paste-helper" style="position:absolute;z-index: -1;left:0px;top:0px;" contenteditable="true"></div>').insertBefore(this.element),this.options.xmenu=t,new ClipboardJS(i.find(".xmenu-item[data-name=copy]")[0],{text:this._proxy("_findCopyAreaText")}),this.pasteHelper.bind("paste",this._proxy("_paste",this.options.customPaste)),this.pasteHelper.bind("keypress",this._proxy("_copy")))},_copy:function(t){t.ctrlKey&&3==t.keyCode&&e("#"+this.options.xmenu).find(".xmenu-item[data-name=copy]").trigger("click")},_findCopyAreaText:function(e){return this.getSelectedTexts(!0).join("")},_paste:function(t,i){if(t&&t.originalEvent){e(t.currentTarget).empty();var s=t.originalEvent.clipboardData;s||(s=window.clipboardData);var n=s.getData("text");if(n){var r=n.replace(/\n|\r/g,"\t").split("\t");this.element.find(".cell.selected").each(function(t){var s=e(this);null==e.trim(r[t])||s.hasClass("readonly")||(e.isFunction(i)?i(s,r[t]):s.text(r[t]))})}}},_mouseStart:function(t){var i=e(t.target);i.hasClass("cell")?(this._clearSelectedArea(),this.dragElem=i,this.helper=this._createHelper()):i.is("span.cell-text")||i.hasClass("col-resize-handler")&&(this.dragElem=i.parent(),this.colResizeHelper=this._getResizeHelper().css({left:this.dragElem[0].offsetLeft+this.element.find(".pubHeader").outerWidth(),width:this.dragElem.outerWidth(),height:this.element.innerHeight()-10}).show())},_mouseDrag:function(t){var i=e(t.target);if(this.colResizeHelper){var s=this._computeHelperPos(t);this.colResizeHelper.width(s.width-25)}else if(this.dragElem){s=this._computeHelperPos(t);this.helper.css(s),i.hasClass("cell")&&(this.dropElem=i);var n=this.helper[0].offsetTop+this.helper.height()-this.element.height(),r=this.helper[0].offsetLeft+this.helper.width()-this.element.width();n>0&&this.element.scrollTop()<n&&n<e(this.tableDom).height()-this.element.height()+50&&this.element.scrollTop(n),r>0&&this.element.scrollLeft()<r&&this.element.scrollLeft(r)}},_mouseStop:function(e){this._colResizeStop(),this.dragElem&&this.dropElem&&this._showSelectedArea(this.dragElem,this.dropElem),this.helper&&this.helper.hide(),this.dropElem=null,this.dragElem=null},_colResizeStop:function(){this.colResizeHelper&&(this.dragElem.width(Math.max(this.colResizeHelper.width()+10,20)),this.colResizeHelper.hide(),this.colResizeHelper=null)},_getResizeHelper:function(t){var i=(t||"col")+"-resize-helper",s=this.element.find(">."+i);return s.length||(s=e('<div class="'+i+'">').appendTo(this.element)),s},_showSelectedArea:function(e,t){var i=this._cellAreaIter(e,t);this._selectCellsByArea(i),this.pasteHelper&&this.pasteHelper.focus()},_selectCellsByArea:function(t){var i=[];this._cellIter(t,function(t){var s="";t.hasClass("merged-cell")?s=t.attr("id"):t.hasClass("hide")&&(s=t.attr("data-merge-id")),s&&-1===e.inArray(s,i)&&i.push(s)}),i.length?this._showSelectedAreaWithMerge(t,i):this._addAreaSytle(t,"selected")},_showSelectedAreaWithMerge:function(e,t){if(t.length>0){for(var i=e.startRow,s=e.endRow,n=e.startCol,r=e.endCol,o=0;o<t.length;o++){var a=this.element.find("#"+t[o]);if(0!==a.length){var l=a.parent().prevAll().length,h=a.prevAll().length,d=parseInt(a.attr("rowspan")),c=parseInt(a.attr("colspan"));i=Math.min(i,l),s=Math.max(s,l+d-1),n=Math.min(n,h),r=Math.max(r,h+c-1)}}var u={startRow:i,endRow:s,rows:s-i+1,startCol:n,endCol:r,cols:r-n+1};this._needReSelectedArea(e,i,s,n,r)?this._selectCellsByArea(u):this._addAreaSytle(u,"selected")}},_needReSelectedArea:function(e,t,i,s,n){return e.startRow!==t||e.endRow!==i||e.startCol!==s||e.endCol!==n},getSelectedTexts:function(t){var i=[];return this.tableDom||(this.tableDom=this.element.find("table")[0]),this.tableDom&&e(".cell.selected",this.tableDom).each(function(){var s=e(this),n=e.trim(s.text());if(s.hasClass("dropdown")){var r=s.find("span:first");n=r.length?e.trim(r.text()):""}t&&(s.next(".selected").length?n+="\t":n+="\n"),i.push(n)}),i},_getSelectedAreaTexts:function(){var t=[[]];return this.tableDom||(this.tableDom=this.element.find("table")[0]),this.tableDom&&e(".cell.selected",this.tableDom).each(function(){var i=e(this),s=e.trim(i.text());if(i.hasClass("dropdown")){var n=i.find("span:first");s=n.length?e.trim(n.text()):""}t[t.length-1].push(s),i.next(".selected").length||t.push([])}),t},getSelectedRowTexts:function(){return this.getSelectedTexts(!0).join("").replace(/\t/g,"/").split("\n")},getSelectedColTexts:function(e){e=e||1;for(var t=this._getSelectedAreaTexts(),i=[],s=Math.min(t.length-1,e),n=0;n<t[0].length;n++){for(var r=[],o=0;o<s;o++)r.push(t[o][n]);i.push(r.join(""))}return i},_getAreaRecords:function(e){return this._cellAreaRecordsIter(e)},moveArea:function(t,i){for(var s=t.startRow;s<=t.endRow;s++){var n=e(this.tableDom.rows[s+1].cells[t.startCol-1]),r=e(this.tableDom.rows[s+1].cells[t.endCol+1]);i>0?n.before(r):i<0&&r.after(n)}},_cellAreaRecordsIter:function(t,i){var n=[];return this._cellIter(t,function(t,r,o,a){var l=e(t),h=e.extend({rowIndex:r,colIndex:o},s(l));e.isFunction(i)&&i(h,l,r,o,a),n.push(h)}),n},_cellAreaIter:function(t,i,s){var n=t.parent().prevAll().length,r=i.parent().prevAll().length,o=t.prevAll().length,a=i.prevAll().length,l={startRow:Math.min(n,r),endRow:Math.max(n,r),startCol:Math.min(o,a),endCol:Math.max(o,a),rows:Math.abs(n-r)+1,cols:Math.abs(o-a)+1};return e.isFunction(s)&&this._cellIter(l,s),l},_cellIter:function(t,i){if(this.tableDom||(this.tableDom=this.element.find("table")[0]),this.tableDom&&e.isFunction(i))for(var s=0;s<t.rows;s++)for(var n=0;n<t.cols;n++){var r=s+t.startRow+1,o=n+t.startCol;i(e(this.tableDom.rows[r].cells[o]),r,o,t)}},cellIter:function(e,t){this._cellIter(e,t)},_clearSelectedArea:function(){this.element.find(".cell.selected").removeClass("selected")},_createHelper:function(t){var i=this.element.find(".select-helper");return 0==i.length?i=e('<div class="select-helper"></div>').appendTo(this.element):i.show(),i},_computeHelperPos:function(e){var t=e.pageX,i=e.pageY,s=this.options.container?this.options.container.offset():this.element.offset(),n=this.dragElem.offset(),r=n.left>t?5:0,o=n.left>t?0:5,a=this.element.scrollLeft(),l=this.element.scrollTop();return{left:Math.min(n.left,t)-s.left+r+a,top:Math.min(n.top,i)-s.top+l,width:Math.abs(t-n.left)-o,height:Math.abs(i-n.top)}},_initAction:function(){this._on({click:function(){this._closeEditor()},"mouseout .cell .editor:not(.select-value)":function(t){var i=e(t.target).parents(".cell:first"),s=i.data("oldValue");this._closeEditor();var n=i.data("value")||i.text();(!s&&n||s!=n)&&(i.data("oldValue",n),i.trigger("cellChange",{oldValue:s,value:n}))},"click .cell .editor":function(){return!1},"click .cell .editor.select-value":function(t){return e(t.currentTarget).parents(".cell:first").trigger("click"),!1},"cellValue .cell":function(t,i){var s=e(t.currentTarget);(i.value||"0"==i.value)&&(i.text?s.hasClass("fieldSelect")?s.data("value",i.value).attr("data-value",i.value).empty().append('<span data-value="'+i.value+'" class="editor select-value">'+i.text+"</span>"):(s.data("value",i.value),s.text(i.text)):s.text(i.value))},"click .cell .option-item":function(t){var i=e(t.currentTarget),s=i.parents(".cell:first"),n=s.data("value"),r=i.data("value");if(s.data("value",r).attr("data-value",r).find("span.editor:first").text(i.text()),s.removeClass("open").removeClass("cell-editing"),s.is('[data-editor="fieldRadioGroup"]')){if(!0!==this.options.editable)return!1;i.addClass("icon-ok-circle").removeClass("icon-circle-blank"),s.find(".option-item").not(i).removeClass("icon-ok-circle").addClass("icon-circle-blank")}return(!n&&r||n!=r)&&s.trigger("cellChange",{oldValue:n,value:r}),!1},"click .cell":function(t){this._hiddenContextMenu();var i=e(t.target);return this._clickCell(i),!0!==this.options.editable||i.hasClass("readonly")?i.hasClass("readonly")&&this._closeEditor():this._openEditor(i),!1},"click .rowHeader":function(t){this._selectedRow(e(t.currentTarget).parent().prevAll().length+1)},"click .colHeader":function(t){this._selectedCol(e(t.currentTarget).prevAll().length)},"click .pubHeader":function(e){},"contextmenu .cell":function(t){if(this.options.xmenu){var i=e(t.currentTarget);return i.hasClass("catalog-value")?(i.trigger("contextmenuCatalog",{pageY:t.pageY,pageX:t.pageX}),!1):(i.hasClass("selected")||this._clickCell(i),this._showContextmenu(t,i),!1)}},"contextmenuAction .cell":function(e,t){t.name&&this.execCommand(e.currentTarget,{name:"xmenu_"+t.name,event:e})}})},_selectedRow:function(t){this._clearSelectedArea(),e(this.tableDom).find("tr:eq("+t+") td").addClass("selected"),this._selectAreaChanged()},_selectedCol:function(t){this._clearSelectedArea(),e(this.tableDom).find("tr").find("td:eq("+t+")").addClass("selected"),this._selectAreaChanged()},_clickCell:function(e){this._clearSelectedArea(),this.element.find(".cell.cell-click").not(e).removeClass("cell-click"),e.addClass("cell-click").addClass("selected"),this._selectAreaChanged()},_addAreaSytle:function(e,t){this._cellIter(e,function(e){e.addClass(t)}),this._selectAreaChanged()},_selectAreaChanged:function(){this._trigger("areaChange",{})},_openEditor:function(t){if(t.hasClass("cell-editing")||t.hasClass("conditional-item"))t.hasClass("fieldSelect")&&this._closeEditor();else{this._closeEditor();var i=t.data("value")||t.text();t.addClass("cell-editing").data("oldValue",i);var s=t.data("editor")||t.attr("data-editor")||"fieldText";if("fieldText"==s)t.hasClass("catalog-value")?e('<input style="width:100%;" class="editor fieldText" data-value="'+t.data("value")+'" value="'+t.text()+'"/>').appendTo(t.empty()).focus():e('<input style="width:100%;" class="editor fieldText" value="'+e.trim(i)+'"/>').appendTo(t.empty()).focus();else if("fieldRadioGroup"==s)e(function(e,t,i){var s=[];if(i&&t&&i[t])for(var n in i[t])s.push('<span class="option-item radio-item youi-icon icon-circle-blank" data-value="'+n+'">'+(i[t][n]||"")+"</span>");return s.join("")}(0,t.data("convert"),this.options.converts)).appendTo(t.empty()).focus();else if("fieldSelect"==s){t.addClass("open");var r=e(".editor.select-value:first",t),o={value:r.data("value"),text:r.text()};t.parent().prevAll().length>11?t.addClass("dropup"):t.addClass("dropdown"),e(function(t,i,s){var r=[];if(r.push('<span class="editor select-value" data-value="'+t.value+'" data-toggle="dropdown" aria-expanded="true">'+(t.text||"")+"</span>"),r.push('<ul class="dropdown-menu">'),r.push('<li class="option-item" data-value="">请选择</li>'),s&&i&&s[i]){var o=[];e.each(s[i],function(e,t){o[o.length]=e}),o.sort(n),e.each(o,function(e,t){r.push('<li class="option-item" data-value="'+t+'">'+t+" "+(s[i][t]||"")+"</li>")})}return r.push("</ul>"),r.join("")}(o,t.data("convert"),this.options.converts)).appendTo(t.empty()).focus()}else if("fieldAutocomplete"==s&&this.options.searchUrl){var a={id:t.data("editorId"),key:t.data("editorKey")},l=t.text(),h=e.youi.recordUtils.replaceByRecord(this.options.searchUrl,a),d=(this.options.searchValueAttr,this.options.searchTextAttr||"text"),c={url:h,notShowLoading:!0,success:function(t){var i=[];e(t.records).each(function(){i.push(e.extend({value:this[d],label:this[d]},this))}),this.response(i)}};e('<input style="width:100%;" class="editor select-value fieldAutocomplete" data-value="'+i+'" value="'+i+'"/>').appendTo(t.empty()).autocomplete({position:{my:"right bottom",at:"right top"},source:function(t,i){this.xhr&&this.xhr.abort(),this.xhr=e.youi.ajaxUtils.ajax(e.extend({data:t,response:i},c))},select:this._proxy("_itemValueSelect",t),close:this._proxy("_closeEditorBySelect",e.extend({},{cellElem:t,oldText:l}))})}}},_itemValueSelect:function(t,i,s){e(t.target).attr("data-value",i.item.value),i.cellElem=s,this._trigger("itemValueSelect",t,i)},_closeEditorBySelect:function(t,i,s){var n=e(t.target);e(s.cellElem).data("oldText",s.oldText),n.data("value")||n.val(""),this._closeEditor()},_closeEditor:function(){var t=e(".cell.cell-editing",this.tableDom),i=t.data("oldText")||"",n=e("input.editor",t),r=n.val()||"";if(t.length){if(t.find(".dropdown-menu").length)return void t.removeClass("cell-editing").removeClass("open");if("fieldAutocomplete"===t.data("editor")&&i&&(r=i),n.hasClass("select-value")&&"fieldAutocomplete"!==t.data("editor")&&(r=n.data("value")||""),t.removeClass("cell-editing").empty().text(r),r!==i){var o=e.extend({rowIndex:t.parent().prevAll().length,colIndex:t.prevAll().length},s(t));this._trigger("cellTextChange",null,{record:o,oldText:i})}}},_showContextmenu:function(t,i){var s=e("#"+this.options.xmenu);if(s.length){s.hasClass("hidden")&&s.removeClass("hidden");var n=s.parents(".page-container:first").offset(),r=i[0].className.split(" ");this.element.find(".cell.selected").length>1&&r.push("area"),s.trigger("open",{bind:i[0],left:t.pageX+10-n.left,top:t.pageY+10-n.top,groups:r})}},_hiddenContextMenu:function(){e("#"+this.options.xmenu).hide()},loadDatas:function(e,t,i){var s=['<table class="table">'];s.push(this._buildColHeaders(i)),s.push(this._buildBody(e,t,i)),s.push("</table>"),this.element.find("table").remove(),this.element.append(s.join("")),this.tableDom=this.element.find("table")[0]},fillRecords:function(t){if(e.isArray(t))for(var i=0;i<t.length;i++){var s=t[i];this._fillCellByRecord(s)}},_fillCellByRecord:function(t){if(t&&t.rowIndex>-1&&t.colIndex>-1){var s=e(this.tableDom.rows[t.rowIndex].cells[t.colIndex]),n=i(t);s.after(e(n)).remove()}},getActiveGroups:function(){var e=[],t=this.element.find(".selected").length;return t&&e.push("cell"),(this.element.find(".selected.merged-cell").length>0||t>1)&&e.push("merge"),e},loadXml:function(t){var i=['<table class="table">'];i.push(t),i.push("</table>"),this.element.find("table").remove(),this.element.append(i.join("")),this.tableDom=this.element.find("table")[0];var s=e("tbody",this.tableDom).data("colwidths").split(",");e(this.tableDom).prepend("</thead>"+this._buildColHeaders(s.length,s)+"</thead>"),e("tbody>tr",this.tableDom).each(function(t){e(this).prepend('<td class="rowHeader">'+(t+1)+"</td>")})},loadSheetHtml:function(e){this.element.html(e),this.tableDom=this.element.find("table")[0]},getSelectedArea:function(e,t){return this._selectedAreaIter()},getCellRecord:function(t){return e.extend({rowIndex:t.parent().prevAll().length,colIndex:t.prevAll().length},s(t))},processCellRecord:function(t,i){var s=e(this.tableDom.rows[t.rowIndex+1].cells[t.colIndex]);e.isFunction(i)&&i(t,s)},processArea:function(e,t){return this._cellAreaRecordsIter(e,t)},setCellText:function(t){e(this.tableDom.rows[t.rowIndex+1].cells[t.colIndex]).text(t.text)},insertRow:function(t,s){var n=this.tableDom.rows[0].cells.length-1,r=[""],o=(s=s||[],[]),a={},l=null;t.startRow+1<this.tableDom.rows.length-1&&(l=e(this.tableDom.rows[t.startRow+1]),e("td",l).each(function(i){var s=e(this).attr("data-merge-id");if(o[i]=s,s&&!a[s]){var n=e(".cell#"+s,this.parentNode.parentNode),r=parseInt(n.attr("rowspan"));n.attr("rowspan",r+t.rows),a[s]=s}}));for(var h=0;h<t.rows;h++){r.push('<tr class="rowTr"><td class="rowHeader"></td>');for(var d=0;d<n;d++){var c=e.extend({text:"",class:"cell",datas:{}},s[d]);o[d]&&(c.class="cell hide",c.datas.mergeId=o[d]),r.push(i(c))}r.push("</tr>")}return l?l.before(e(r.join(""))):e("tbody",this.tableDom).append(r.join("")),this._reBuildRowHeader(),t},appendRow:function(){var t=this.tableDom.rows[0].cells.length-1,s=[];s.push('<tr class="rowTr"><td class="rowHeader"></td>');for(var n=0;n<t;n++)s.push(i({class:"cell"}));s.push("</tr>"),e("tbody",this.tableDom).append(s.join("")),this._reBuildRowHeader()},reBuildRowHeader:function(){this._reBuildRowHeader()},insertRowHtmls:function(t,i){t.startRow+1<this.tableDom.rows.length-1?e(this.tableDom.rows[t.startRow+1]).before(e(i)):e("tbody",this.tableDom).append(e(i)),e("[data-old-rowspan]",this.tableDom).each(function(){var t=e(this),i=parseInt(t.attr("data-old-rowspan")),s=t.attr("data-merge-id");t.removeAttr("data-old-rowspan"),e("#"+s,t.parents("tbody:first")).attr("rowspan",i)}),this._reBuildRowHeader()},deleteRow:function(t){for(var i=e("<table></table>"),s=0;s<t.rows;s++)e(this.tableDom.rows[t.startRow+1]).appendTo(i);this._reBuildRowHeader();var n={};for(var r in i.find("[data-merge-id]").each(function(){var t=e(this).attr("data-merge-id");t&&!n[t]&&(n[t]=t)}),n){var o=e("#"+r,this.tableDom),a=parseInt(o.attr("rowspan")),l=o.parent().prevAll().length+a-1,h=0;t.endRow>l&&(h=t.endRow-l),o.attr("rowspan",a-t.rows+h),i.find("[data-merge-id="+r+"]:first").attr("data-old-rowspan",a)}var d=i.find("tbody").html();return i.remove(),d},insertCol:function(t,s){for(var n=this.tableDom.rows.length,r=t.startCol,o=(s=s||[],{}),a=0;a<n;a++){var l=[],h=e(this.tableDom.rows[a].cells[r]),d=h.attr("data-merge-id");if(h&&d){var c=o[d]||e("#"+d,this.tableDom);if(c.prevAll().length<=r){if(!o[d]){var u=parseInt(c.attr("colspan"));c.attr("colspan",u+t.cols)}}else d="";o[d]=c}for(var p=0;p<t.cols;p++)if(0===a)l.push('<th class="colHeader" style="width:100px;"></th>');else{var f=e.extend({text:"",class:"cell",datas:{}},s[a]);d&&(f.class="cell hide",f.datas.mergeId=d),l.push(i(f))}h.before(l.join(""))}return this._reBuildColHeader(),t},appendCol:function(){e("thead>tr",this.tableDom).append('<th class="colHeader"></th>'),e("tr.rowTr",this.tableDom).each(function(){e(this).append(i({class:"cell"}))}),this._reBuildColHeader()},appendBlankCol:function(){e(this.tableDom).addClass("tableNoBorder"),e("thead>tr",this.tableDom).append('<th class="blankHead"></th>'),e("tr.rowTr",this.tableDom).each(function(){e(this).append(i({class:"cell hide"}))}),this._reBuildColHeader()},deleteCol:function(t){for(var i=this.tableDom.rows.length,s={},n=[],r=t.startCol,o=0;o<i;o++){for(var a=e("<tr></tr>"),l=0;l<t.cols;l++){var h=e(this.tableDom.rows[o].cells[r]),d=h.attr("data-merge-id");if(d&&!s[d]){var c=e("#"+d,this.tableDom),u=parseInt(c.attr("colspan")),p=c.prevAll().length+u-1,f=0;t.endCol>p&&(f=t.endCol-p),c.attr("colspan",u-t.cols+f),h.attr("data-old-colspan",u),s[d]=d}a.append(h)}n.push(a.html()),a.remove()}return this._reBuildColHeader(),n},insertColHtmls:function(t,i){for(var s=this.tableDom.rows.length,n=t.startCol,r=this.tableDom.rows[0].cells.length===n,o=0;o<s;o++)r?e(this.tableDom.rows[o]).append(i[o]):e(this.tableDom.rows[o].cells[n]).before(i[o]),e("[data-old-colspan]",this.tableDom).each(function(){var t=e(this),i=parseInt(t.attr("data-old-colspan")),s=t.attr("data-merge-id");t.removeAttr("data-old-colspan"),e("#"+s,t.parents("tbody:first")).attr("colspan",i)});this._reBuildColHeader()},clearArea:function(t,i,s){return this._cellAreaRecordsIter(s,function(t,i,s,n){i.before(e('<td class="cell selected"></td>')).remove()})},clearAreaText:function(e,t,i){return this._cellAreaRecordsIter(i,function(e,t,i,s){t.text("")})},mergeArea:function(t,i,s){var n,r=!1,o=this._cellAreaRecordsIter(s,function(e,t,i,s){(t.hasClass("merged-cell")||t.is("[data-merge-id]"))&&(r=!0)});r?this._cellAreaRecordsIter(s,function(t,i,s,n){if(i.hasClass("merged-cell")){var r=i.attr("id");i.removeClass("merged-cell").removeAttr("id").removeAttr("rowspan").removeAttr("colspan"),e("[data-merge-id="+r+"]",i.parent().parent()).removeClass("hide").removeAttr("data-merge-id")}}):this._cellAreaRecordsIter(s,function(e,t,i,r){s.startRow===i-1&&s.startCol===r?(n="m_"+i+"_"+r+"_"+(new Date).getTime(),t.attr("id",n).addClass("merged-cell").attr("rowspan",s.rows).attr("colspan",s.cols).css("textAlign","center")):t.addClass("hide").attr("data-merge-id",n)});return o},setTextIndent:function(e,t,i){return this._cellAreaRecordsIter(i,function(e,i,s,n){i.css("textIndent",t.value)})},setAlign:function(e,t,i){return this._cellAreaRecordsIter(i,function(e,i,s,n){i.css("textAlign",t.value)})},setColor:function(e,t,i){return this._cellAreaRecordsIter(i,function(e,i,s,n){i.css("color",t.value)})},setBgColor:function(e,t,i){return this._cellAreaRecordsIter(i,function(e,i,s,n){i.css("backgroundColor",t.value)})},setFontSize:function(e,t,i){return this._cellAreaRecordsIter(i,function(e,i,s,n){i.css("fontSize",t.value)})},setSequence:function(e,t,i){var s=0;return this._cellAreaRecordsIter(i,function(e,t,i,n){t.text(++s)})},setBorder:function(t,i,s){var n=e.extend({},s,{startRow:s.startRow>0?s.startRow-1:s.startRow,startCol:s.startCol>1?s.startCol-1:s.startCol});if(n.cols=n.endCol-n.startCol+1,n.rows=n.endRow-n.startRow+1,"outerBorder"===i.value)return this._setOuterBorder(s,n);var r=i.value.split(",");return this._cellAreaRecordsIter(n,function(e,t,o,a){if(o!==s.startRow||a!==s.startCol-1)if(o===s.startRow)"1"===r[0]?t.css("borderBottomColor","black"):"0,0,0,0"==i.value&&t.css("borderBottomColor","");else if(a===s.startCol-1&&o>s.startRow)"1"==r[3]?t.css("borderRightColor","black"):"0,0,0,0"==i.value&&t.css("borderRightColor","");else if(o>s.startRow-1&&a>s.startCol-1){var l={borderRightColor:"",borderBottomColor:""};"1"===r[0]&&n.startRow!=o&&"1,0,0,0"==i.value&&s.endRow>=o&&(l.borderBottomColor="black"),"1"===r[1]&&(l.borderRightColor="black"),"1"===r[2]&&(l.borderBottomColor="black"),"1"===r[3]&&n.startCol!=a&&"0,0,0,1"==i.value&&s.endCol>a&&(l.borderRightColor="black"),t.css(l)}})},_setOuterBorder:function(e,t){return this._cellAreaRecordsIter(t,function(i,s,n,r){r>e.startCol-1&&(n===e.startRow||n===e.endRow+1)&&s.css("borderBottomColor","black"),n>e.startRow&&(r===t.startCol&&e.startCol!=t.startCol||r===t.endCol)&&s.css("borderRightColor","black")})},_selectedAreaIter:function(t){var i=e(".selected.cell:first",this.tableDom),s=e(".selected.cell:last",this.tableDom);return this._cellAreaIter(i,s,t)},buildXml:function(t){var n=[],r=[];for(var o in this.element.find("thead .colHeader").not(".pubHeader").each(function(){r.push(e(this).outerWidth())}),t=e.extend({},t,{colWidths:r.join()}),n.push("<tbody "),t)t[o]&&n.push("data-"+o+'="'+t[o]+'" ');return n.push(">"),this.element.find(".rowTr").each(function(){var t=[];e(this).find(".cell").each(function(){t.push(i(s(e(this))))}),t.length&&(n.push('<tr class="rowTr">'),(n=n.concat(t)).push("</tr>"))}),n.push("</tbody>"),n.join("")},_isEmptyRow:function(t){return!e(t.text())},_buildColHeaders:function(e,i){var s=[];i=i||[];s.push('<thead><tr><th style="width:25px;" class="pubHeader">&nbsp;</th>');for(var n=0;n<e;n++)s.push('<th class="colHeader" style="width:'+(i[n]||100)+'px">'+t(n+1)+' <span class="col-resize-handler pull-right"></span></th>');return s.push("</tr></thead>"),s.join("")},_buildBody:function(e,t,i){for(var s=["<tbody>"],n=0;n<t;n++){s.push('<tr class="rowTr"><td class="rowHeader">'+(n+1)+"</td>");for(var r=0;r<i;r++)s.push('<td class="cell"></td>');s.push("</tr>")}return s.push("</tbody>"),s.join("")},rebuildTable:function(){var t=0;this.element.find("table").find("tr").each(function(){var i=e(this)[0].cells.length;i>t&&(t=i)});var i=this._buildCell("");this.element.find("table").find("tr").each(function(){for(var s=e(this)[0].cells.length,n=t-s,r=s-1;n>0;)e(this).find("th:eq("+r+")").each(function(){e(this).after('<th class="colHeader"></th>')}),e(this).find("td:eq("+r+")").each(function(){e(this).after(i)}),n-=1}),this.removeLastEmptyCol(),this._reBuildRowHeader(),this._reBuildColHeader()},_removeLastEmptyRow:function(){for(var t=this.getLastEmptyRowIndex(),i=this.element.find("table")[0].rows.length;i>t;)this.element.find("table").find("tr:eq("+i+")").each(function(){e(this).remove()}),i-=1},removeLastEmptyCol:function(){for(var t=this.getLastEmptyColIndex(),i=this.element.find("table").find(".rowHeader").length;t<i;)i-=1,this.element.find("table").find("tr").find("th:eq("+i+")").each(function(){e(this).remove()}),this.element.find("table").find("tr").find("td:eq("+i+")").each(function(){e(this).remove()})},getLastEmptyRowIndex:function(){var t=1,i=1;return this.element.find(".rowTr").each(function(){var s=!1;e(this).find(".cell").each(function(){e(this).data("group")&&(s=!0),e(this).data("expression")&&(s=!0),e(this).text()&&(s=!0)}),s&&(i=t),t+=1}),i},getLastEmptyColIndex:function(){var t=1;return this.element.find(".rowTr").each(function(){var i=!1,s=1;e(this).find(".cell").each(function(){e(this).data("group")&&(i=!0),e(this).data("expression")&&(i=!0),e(this).text()&&(i=!0),i&&(s=e(this)[0].cellIndex+1)}),t<s&&(t=s)}),t},_reBuildRowHeader:function(){this.element.find("table").find(".rowHeader").each(function(t){e(this).text(t+1)})},_reBuildColHeader:function(){this.element.find("table").find(".colHeader").not(".pubHeader").each(function(i){e(this).html(t(i+1)+'<span class="col-resize-handler pull-right"></span>')})},_destroy:function(){this.tableDom=null,this.pasteHelper&&this.pasteHelper.remove(),this.pasteHelper=null},setEditable:function(e){this.options.editable=e},getEditable:function(){return this.options.editable},xmenu_paste:function(e,t){this.pasteHelper.trigger("paste")},_resize:function(){}}))}(jQuery)},function(e,t){!function(e){"use strict";function t(t,i,s){var n=[],r=t+"_"+i.name;return n.push('<div class="panel panel-default">'),n.push('<div class="panel-heading" role="tab" id="'+r+'_head">'),n.push('    <span class="panel-title">'),n.push('   <a role="button" data-toggle="collapse" data-parent="#accordion" href="#'+r+'" aria-expanded="'+s+'" aria-controls="'+r+'">'),n.push(i.text),n.push(" </a>"),n.push(" </span>"),n.push(" </div>"),n.push('<div id="'+r+'" class="panel-collapse collapse '+(s?" in":"")+'" role="tabpanel" aria-labelledby="'+r+'_head">'),n.push('    <div class="panel-body" data-id="'+i.name+'">'),e(i.items).each(function(){var e;n.push('<div class="expression-item col-sm-'+((e=this).column||6)+" "+e.id+'" data-expression="'+e.expression+'">'+(e.text||e.id)+"</div>")}),n.push("</div></div>"),n.push("</div>"),n.join("")}function i(t,i){return'<input type="button" '+function(t,i){var s=[];for(var n in i=i||[],t){var r=e.youi.stringUtils.convertDataProperty(n,"-");-1!=e.inArray(r,i)&&s.push("data-"+r+'="'+(t[n]||"")+'"')}return s.join(" ")}(t,i)+' class="keyword" value="'+t.text+'" title="'+t.text+'"/>'}e.widget("youi.expressionEditor",e.youi.abstractWidget,e.extend({},{options:{bindResize:!0,rootText:"项",itemCaption:"项",keyTreeUrl:"",treeNodeGroups:"",itemProps:"id,text",expressionItems:{operator:{text:"操作符",items:[{id:"add",text:"加",expression:"+"},{id:"subtract",text:"减",expression:"-"},{id:"multiply",text:"乘",expression:"*"},{id:"divide",text:"除",expression:"/"},{id:"pow",text:"平方",expression:"^"},{id:"mod",text:"求余",expression:"%"},{id:"lbrackets",text:"左括号",expression:"("},{id:"rbrackets",text:"右括号",expression:")"},{id:"sum",text:"求和",expression:"∑"}]},func:{text:"常用函数",items:[{id:"max",text:"最大值",expression:"max({0},{1})"},{id:"min",text:"最小值",expression:"min({0},{1})"},{id:"avg",text:"平均值",expression:"avg({0},{1})"},{id:"yearOnYear",text:"上年同期",expression:"yearOnYear({0})"},{id:"monthOnMonth",text:"上期值",expression:"monthOnMonth({0})"}]}}},_initWidget:function(){this.element.addClass("youi-field auto-height").attr("data-field-type",this.widgetName).attr("data-property",this.options.name),this.contentElem=this.element.find("."+this.widgetName+"-content:first"),"string"==typeof this.options.treeNodeGroups&&(this.options.treeNodeGroups=this.options.treeNodeGroups.split(",")),"string"==typeof this.options.itemProps&&(this.options.itemProps=this.options.itemProps.split(",")),this._initContentHtml()},_initContentHtml:function(){var e=[],i=this.element.attr("id"),s=i+"e";e.push('<div class="col-sm-3 panel-group no-padding" id="accordion" role="tablist" aria-multiselectable="true">'),e.push(t(i,{name:"indicators",text:this.options.itemCaption},!0)),e.push("</div>"),e.push('<div class="col-sm-9"><div id="'+s+'" class="expression-editor" style="height:100px;"></div></div>'),this.contentElem.html(e.join("")),this.itemContainer=this.contentElem.find(".panel-body[data-id=indicators]"),UE.delEditor(s),this.ueditor=UE.getEditor(s,{toolbars:[["undo","redo"]],initialFrameHeight:345,autoHeightEnabled:!0,autoFloatEnabled:!0,elementPathEnabled:!1}),this.options.keyTreeUrl&&this._initKeyTree()},_initKeyTree:function(){var t=this.element.attr("id")+"tree",i=["<ul>"];i.push(e.youi.treeUtils.treeNodeHtml("ROOT",this.options.rootText,{group:"root",src:this.options.keyTreeUrl})),i.push("</ul>"),this.keyTreeElem=this.itemContainer.attr("id",t).html(i.join("")).tree({xmenu:this.options.refs[0],dragable:!0,hideRoot:!0,check:"true"==this.options.check}),window[t+"_xmenu_addItem"]=this._proxy("_addItem")},_addItem:function(t,i){var s=this.keyTreeElem.tree("getSelected");if(i.value&&s.length){var n="_"+("yearOnYear"==i.value?"上年同期":"上期"),r=s.data(),o=e.extend({id:s.attr("id"),mappedId:r.reportCode+r.physicalTableNum},r,{text:e.youi.treeUtils.getNodeText(s)+n,expression:i.value});this._insertKeyItem(o)}},_initAction:function(){this._on({"dblclick .expressionEditor-content .expression-item":function(t,i){var s=e(t.currentTarget).data();this.ueditor.ready(function(){this.execCommand("inserthtml",s.expression)})},"dblclick .expressionEditor-content .option-item":function(t,i){var s=e(t.currentTarget),n=s.data(),r=e.extend({id:n.value,mappedId:""},n,{text:s.text()});this._insertKeyItem(r)},"dblclick .expressionEditor-content .treeNode":function(t,i){var s=e(t.currentTarget),n=s.data(),r=n.group;if(-1!=e.inArray(r,this.options.treeNodeGroups)){var o=e.extend({id:s.attr("id")},n,{text:e.youi.treeUtils.getNodeText(s)});this._insertKeyItem(o)}return!1}})},_insertKeyItem:function(e){var t=i(e,this.options.itemProps),s=this.ueditor;this.ueditor.ready(function(){s.execCommand("inserthtml",t)})},insertItems:function(t,s){var n=[],r=this.options.itemProps;e(t).each(function(t){var o=i(this,r);e.isFunction(s)&&(o=s(o,t)||o),n.push(o)});var o=this.ueditor;this.ueditor.ready(function(){o.execCommand("inserthtml",n.join(""))})},parseExpressionItems:function(i){var s=function(i,s){var n=[];for(var r in s)n.push(t(i,e.extend({},s[r],{name:r})));return n.join("")}(this.element.attr("id"),i);this.element.find(".panel-group:first").append(s)},parseItems:function(t){var i=[];t&&e(t.records).each(function(){i.push('<span data-id="'+this.id+'" class="option-item" data-expression="'+(this.expression||"")+'" data-value="'+this.id+'">'+this.text+"</span>")}),this.itemContainer.html(i.join(""))},getValue:function(){var t,i=this.ueditor.getContent(),s=[],n=e(i).appendTo(this.element);return n.find("input.keyword").each(function(t){var i=e(this);s.push(e.extend({text:i.val()},i.data())),e("<span>{"+t+"}</span>").insertBefore(i),i.remove()}),t=n.text(),n.remove(),{items:s,source:t}},setValue:function(t){if(t){var s=[],n=this.options.itemProps;e(t.items).each(function(){s.push(i(this,n))})}var r=e.youi.getMessage(t.source,s)||"";this.ueditor.ready(function(){r&&this.setContent(r)})},clear:function(){},validate:function(e){this.element.removeClass("validate-success").removeClass("validate-error").removeAttr("title");var t=[];t.length?this.element.removeClass("validate-success").addClass("validate-error").attr("title",t.join("")):this.element.removeClass("validate-error").addClass("validate-success")},_resize:function(){},_destroy:function(){this.ueditor=null}}))}(jQuery)},function(e,t){!function(e){e.youi.log;function t(e,t){for(var i=[],s=0;s<e.length;s++)"char2"==e[s].value&&3!=t&&5!=t||"empty"==e[s].value&&6!=t||(i.push('<input class="mode" type="radio"'),0==s&&i.push(' checked="checked" '),i.push(' name="mode'),i.push(t),i.push('" value="'),i.push(e[s].value),i.push('">'),i.push(e[s].text),i.push("</input>"));return i.join("")}function i(t){var i=[];return t.find("input.mode-value").each(function(){i.push(e(this).val())}),i.join("")}e.widget("youi.fieldCron",e.youi.abstractWidget,e.extend({},e.youi.field,{_defaultHtmls:function(){var e=[];e.push('<table width="'+this.options.width+'px" class="cronTable" cellpadding="1" cellspacing="1">');for(var i=["秒","分","时","日期","月","星期","年"],s=[{value:"char1",text:" * "},{value:"char2",text:" ? "},{value:"sect",text:"区间"},{value:"addo",text:"增量"},{value:"free",text:"自由"},{value:"empty",text:"空"}],n=[],r=0;r<7;r++){e.push("<tr>"),e.push('<td class="label">'+i[r]+":</td>");for(var o=0;o<s.length;o++)e.push('<td class="modePanel '+(0==o?"show ":"")+s[o].value+'">'+this["_"+s[o].value+"Html"]()+"</td>");e.push('<td class="modeSwitch">'),e.push(t(s,r)),e.push("</td>"),e.push("</tr>"),n.push('<td class="cronLabel cronLabel-'+r+'"> * </td>')}e.push("</table>"),e.push('<div class="cron-expression"><table><tr><td>周期表达式：</td>'),(e=e.concat(n)).push("</tr></table><div>"),e.push('<input type="hidden" class="value"/><div class="field-invalid"></div>'),this.element.append(e.join(""))},_char1Html:function(){return' *(每一时刻) <input  class="mode-value" type="hidden" value="*"/>'},_char2Html:function(){return' ?(占位符)<input  class="mode-value" type="hidden" value="?"/>'},_sectHtml:function(){var e=[];return e.push('<input class="mode-value" value="1" type="text" size="6"/>(起始)'),e.push(' - <input class="mode-value" type="hidden" value="-"/>'),e.push('<input class="mode-value" value="1" type="text" size="6"/>(结束)'),e.join("")},_emptyHtml:function(){return""},_addoHtml:function(){var e=[];return e.push('<input class="mode-value" value="1" type="text" size="6"/>(起始)'),e.push(' / <input class="mode-value" type="hidden" value="/"/>'),e.push('<input class="mode-value" value="1" type="text" size="6"/>(增量)'),e.join("")},_freeHtml:function(){return'<input class="mode-value" type="text" size="15"/>'},_initAction:function(){this.element.delegate("input.mode","click",function(t){var s=e(this).val(),n=e(this).parents("tr:first");e(".modePanel",n).not("."+s).removeClass("show");var r=e(".modePanel."+s,n);r.addClass("show");var o=n.prevAll().length;e(".cron-expression .cronLabel.cronLabel-"+o,t.livedFired).text(i(r)),n=null}).delegate("input.mode-value","change",function(t){var s=e(this).parents("tr:first"),n=e(this).parents("td.modePanel:first"),r=s.prevAll().length;e(".cron-expression .cronLabel.cronLabel-"+r,t.livedFired).text(i(n))})},setValue:function(t){this.element.find("input.mode[value=free]").click();var i=t.split(/\s+/);this.element.find(".modePanel.free .mode-value").each(function(t){var s=i[t]||"";e(this).val(s),e(".cron-expression .cronLabel.cronLabel-"+t,e(this).parents(".youi-fieldCron:first")).text(s)})},getValue:function(){var t=[];return this.element.find(".cron-expression .cronLabel").each(function(){var i=e(this).text();i&&t.push(i)}),t.join(" ")},clear:function(){this.element.find("input.mode[value=char1]").click(),this.element.find(".cron-expression .cronLabel").text("*")},validate:function(){}}))}(jQuery)},function(e,t){
/*!
 * youi JavaScript Library v3.0.0
 * 
 *
 * Copyright 2016-2020, zhyi_12
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Date: 2019-9-15
 */
!function(e){e.widget("youi.fieldQueryParam",e.youi.abstractWidget,e.extend({},e.youi.field,{_initField:function(){},_initAction:function(){},loadParams:function(t){var i={},s=[];e(t).each(function(){i[this.property]||s.push(function(e){var t=[];return t.push('<div class="col-sm-4 input-group">'),t.push('<label class="input-group-addon">'+(e.text||e.property)+"</label>"),t.push('<input class="form-control text-input" name="'+e.property+'" type="text"></input>'),t.push("</div>"),t.join("")}(this)),i[this.property]=!0}),this.element.html(s.join(""))},_defaultHtmls:function(){},setValue:function(e){},getValue:function(){var t=[];return this.element.find("input.form-control.text-input").each(function(){var i=e(this),s=i.val();s&&t.push({property:i.attr("name"),value:s})}),t},clear:function(){}}))}(jQuery)},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){}]);